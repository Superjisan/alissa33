(this["webpackJsonpalissa-33"]=this["webpackJsonpalissa-33"]||[]).push([[0],{43:function(e,t,a){e.exports=a(93)},54:function(e,t,a){},55:function(e,t,a){},76:function(e,t){},78:function(e,t){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(41),o=a.n(l),i=(a(48),a(54),a(96)),c=a(94),u=a(95),s=(a(55),a(21)),d=a(98),m=a(97),f=a(20),y=a.n(f),p=new y.a.Client({secret:"fnADyqNjYEACE8S2IsdOsNSDNIgcvm0T_4l6wFrX"}),h=y.a.query,E=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),f=i[0],y=i[1],E=function(){p.query(h.Paginate(h.Match(h.Ref("indexes/getAllCoupleCoupons")))).then((function(e){var t=e.data.map((function(e){return h.Get(e)}));return p.query(t).then((function(e){return e}))})).catch((function(e){return console.error("Error: ",e.message)})).then((function(e){l(e)}))},v=function(e){(function(e){return p.query(h.Update(h.Ref(h.Collection("CoupleCoupon"),e),{data:{alreadyUsed:!0}})).then((function(e){return e}))})(e).then((function(){return E()}))},g=function(e){y(e===f?"":e)};Object(n.useEffect)((function(){E()}),[]);var w="invalid"===f,b="valid"===f,C=f?a.filter((function(e){return"invalid"===f?!0===e.data.alreadyUsed:!1===e.data.alreadyUsed})):a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{style:{marginBottom:10}},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:b?"primary":"outline-dark",onClick:function(){return g("valid")},style:{marginRight:5}},"Still Valid"),r.a.createElement(d.a,{variant:w?"primary":"outline-dark",onClick:function(){return g("invalid")}},"Already Used"))),C.map((function(e){return r.a.createElement(m.a,{key:e.ref.value.id,style:{width:"18rem",height:"36rem",float:"left"}},r.a.createElement(m.a.Body,null,r.a.createElement(m.a.Img,{variant:"top",src:e.data.imgUrl}),r.a.createElement(m.a.Title,null,e.data.title),r.a.createElement(m.a.Text,null,e.data.description),r.a.createElement(m.a.Text,null,"Expires On: ",e.data.expires.value),r.a.createElement(m.a.Text,null,"Already Used: ","".concat(e.data.alreadyUsed))),r.a.createElement(m.a.Footer,null,r.a.createElement(d.a,{disabled:e.data.alreadyUsed,onClick:function(){v(e.ref.value.id)},variant:"primary"},"Redeem Now")))})))};var v=function(){return r.a.createElement(i.a,{fluid:!0,className:"root"},r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement("h1",null,"Alissa's 33 Coupons"))),r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement("p",null,"Happy Birthday Alissa! For your 33rd Birthday, I have created this website for you. It contains 33 coupons that you can redeem anytime throughout the year."),r.a.createElement("p",null,"Some restrictions apply:",r.a.createElement("ol",null,r.a.createElement("li",null,"You are only allowed to use 1 coupon per day. Jisan can determine if you want to use more than one per day."),r.a.createElement("li",null,"Coupons cannot be combined with other coupons, unless explicitly approved by Jisan."),r.a.createElement("li",null,"You have to use all by 12AM August 13, 2021. No rollovers."),r.a.createElement("li",null,"If accidentally pressed Redeem, let Jisan know and he can correct the error.")),"Love you lots, Jisan"))),r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.851ca74b.chunk.js.map